%%
%% texjazz-modelling.def
%%
%% A LaTeX file to manage UML and Merise diagrams.
%%
%% Copyright (c) 2020-2021 ejazz.
%%
%---------------------------------------------------------------------------------------------------
% This work is part of the TeXjazz bundle. It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% The Current Maintainer of this work is ejazz <ejazz.fr@gmail.com>.
%
% This work consists of the files:
%     `texjazz-modelling.def' and `texjazz-modelling[-fr].tex' (not yet fully available).
% --------------------------------------------------------------------------------------------------

%-- File identification
%----------------------

\ProvidesFile{texjazz-modelling.def}[2021/02/08 v0.1a − UML and Merise diagrams]

%-- Aggregation of the `pgf-umlcd' and `pgf-umlcd' packages + personal add-ons for Merise
\RequirePackage{texjazz-modelling}

%\tikzset{jazzumlactor/.style={font=\Large}}

%-----
%- See:
%-    https://tex.stackexchange.com/questions/56029/[...]
%-      [...]on-a-problem-related-to-uml-class-diagram-using-pgf-umlcd
%-   https://tex.stackexchange.com/questions/291833/[...]
%-      [...]pgf-umlcd-underscore-in-class-name-failing
%-----

%-----
%- See also: https://tex.stackexchange.com/questions/130124/crash-of-tikz-uml-and-pgf-umlcd
%- The two packages pgf-umlcd and tikz-uml use \umlnote command
%\let\umlnotepgfumlcd\umlnote% Store the command from pgf-umlcd package
%\let\umlnote\relax% Let \umlnote command be defined by the tikz-uml package
%-----

%- Modified/extended version of the `tikz-uml' package by N. Kielbasiewicz v1.0 (29 March 2016):
%-   https://perso.ensta-paristech.fr/~kielbasi/tikzuml/
\RequirePackage{texjazz-tikz-uml}% Custom and extended version of the `tikz-uml' package

%- Setting default document TikZ-UML (TeXjazz modified) package options and parameters
\tikzumlset{
  text=black,% Default = black
  font=\footnotesize,% Default = \footnotesize
  draw=secondcolor,% Default = black
  package type=tikzumlEmpty,% Default = tikzumlEmpty
  fill package=blue!20,% Default = blue!20
  class width=5ex,% Default = 10ex
  simple interface width=4ex,% Default = 4ex
  class type=class,% Default = class
  fill class=yellow!30,% Default = yellow!20
  fill template=yellow!2,% Default = yellow!2
  narynode width=6ex,% Default = 6ex
  relation geometry=--,% Default = --
  relation angle1=-30,% Default = -30
  relation angle2=30,% Default = 30
  relation loopsize=3em,% Default = 3em
  relation weight=0.5,% Default = 0.5
  relation pos1=0.2,% Default = 0.2
  relation pos2=0.8,% Default = 0.8
  relation pos stereo=0.5,% Default = 0.5
  note width=3cm,% Default = 3cm
  fill note=green!20,% Default = green!20
  fill system=firstcolor!20,% Default = white
  fill usecase=yellow!30,% Default = blue!20
  actor below=3ex,% Default = 0.5cm,
  state join width=3ex,% Default = 3ex
  state decision width=3ex,% Default = 3ex
  state initial width=14pt,% Default = 5ex
  state final width=14pt,% Default = 5.5ex
  state enter width=5ex,% Default = 5ex
  state exit width=5ex,% Default = 5ex
  state end width=5ex,% Default = 5ex
  state history width=2.0ex,% Default = 5ex
  state deep history width=5ex,% Default = 5ex
  state width=0.25cm,% Default = 8ex
  fill state=yellow!30,% Default = yellow!20
  object stereo=object,% Default = object
  fill object=yellow!30,% Default = yellow!20
  call dt=tikzumlEmpty,% Default = tizumlEmpty
  call padding=2,% Default = 2
  call type=synchron,% Default = synchron
  fill call=firstcolor!20,% Default = white
  fragment type=opt,% Default = opt
  fragment inner xsep=1,% Default = 1
  fragment inner ysep=1,% Default = 1
  fill fragment= none,% Default = none
  create call dt=4,% Default = 4
  component width=8ex,% Default = 8ex
  fill component= yellow!30,% Default = yellow!20
  required interface distance=2.5cm,% Default = 2.5cm
  required interface width=1em,% Default = 1em
  required interface padding=1cm,% Default = 1cm
  provided interface distance=3cm,% Default = 3cm
  provided interface width=1em,% Default = 1em
  provided interface padding=1cm,% Default = 1cm
  port width=1ex,% Default = 1ex
  fill port= yellow!30,% Default = yellow!20
  fill assembly connector/.initial= white,% Default = white
  %- TeXjazz control options add-ons / modifications
  line width=0.6pt,% New control, default = 0.6pt
  %- Class
  class inner xsep=4pt,% Inner xsep for the `umlclass' commands/diagrams
  class inner ysep=2pt,% Inner ysep for the `umlclass' commands/diagrams
  class attribute font=\scriptsize,% New TeXjazz control, default = \scriptsize
  class operation font=\scriptsize,% New TeXjazz control, default = \scriptsize
  %-System
  system inner xsep=6pt,% Use case background frame inner xsep aka 'umlsystem' env.
  system inner ysep=6pt,% Use case background frame inner ysep aka 'umlsystem' env.
  %- Collaboration (new diagram)
  collaboration inner xsep=4pt,% Inner xsep for the `umlcollaboration' command/diagram
  collaboration inner ysep=2.5pt,% Inner ysep for the `umlcollaboration' command/diagram
  collaboration attribute font=\scriptsize,% New TeXjazz control, default = \scriptsize
  %- Object
  scale object=0.6,% Default = 1 (pictured object scale like actor, database, etc.) → \umlobject cmd
  scale actor=0.5,% Default = 1 (alone/independent pictured actor scale) → \umlactor command
  object inner xsep=4pt,% Inner xsep for the `umlobject/umlsimpleobject' commands/diagrams
  object inner ysep=2.5pt,% Inner ysep for the `umlobject/umlsimpleobject' commands/diagrams
  simple object attribute font=\scriptsize,% New TeXjazz control, default = \scriptsize
  %- Activity (new diagram)
  activity inner xsep=4pt,% Inner xsep for the `umlactivity' commands/diagrams
  activity inner ysep=2.5pt,% Inner ysep for the `umlactivity' commands/diagrams
  activity rounded corners=0.6\baselineskip,
  width activity=1cm,% New TeXjazz activity diagram (\umlactivity command), default = 0.75cm
  fill activity=yellow!30,% New TeXjazz activity diag. (\umlactivity command), default = yellow!20
  node distance activity=0.6cm,% New TeXjazz activity diag. (\umlactivity command), default = 0.6cm
  %- State-transition diagram
  state inner xsep=4pt,% Inner xsep for the `umlactivity' environment/command/diagram
  state inner ysep=2.5pt,% Inner ysep for the `umlactivity' environment/command/diagram
  state action font=\scriptsize,% New TeXjazz control, default = \scriptsize
  %- Deployment diagram
  fill deployment=white,
  %deployment font=\footnotesize,
  deployment attribute font=\scriptsize,
  deployment minimum width=1.0cm,
  deployment inner xsep=4pt,% Front face
  deployment inner ysep=2.5pt,% Front face
  deployment zangle=25,
  deployment zscale=0.5,
}




\endinput





